<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {font-size:100px;width:100%;height:400px;border:4px solid #f00;display:flex;justify-content:center;align-items:center;}

    </style>
</head>
<body>
    <h2>节流实现--时间戳版本</h2>
    <div class="box"></div>
</body>
<script>

var num=0;
var box=document.querySelector('.box');

//DOM0级事件绑定--pc端
//box.onmousemove=debounce(move,2000)

//DOM2级事件绑定
box.addEventListener('mousemove',throttle(move,2000),false)

function move(e) {
    num++;
    this.innerHTML=num;

}

//时间戳版本实现节流
function throttle(func,wait) {
    //定义初始时间
    var oldTime=0;

    return function() {
        var _this=this;
        var args=arguments;

        //当前时间戳
        var newTime=+new Date();

        //判断用当前时间减去旧的时间，如果大于wait指定的时间就会触发
        if(newTime-oldTime>wait) {
            //执行触发的函数
            func.apply(_this,args)
            //将旧时间更新
            oldTime=newTime;
        }

    }

}


</script>






</script>
</html>